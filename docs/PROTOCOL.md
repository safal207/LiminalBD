# Протокол взаимодействия v0.1

## Impulse

Импульсы — основной способ взаимодействия с тканью.

```text
struct Impulse {
    kind: ImpulseKind,      // Query | Write | Affect
    pattern: String,        // произвольная строка, разбивается на токены
    strength: f32,          // 0.0..1.0, интенсивность
    ttl_ms: u64,            // время жизни
    tags: Vec<String>,      // произвольные метки источника
}
```

`pattern` индексируется по простым токенам (буквы/цифры/`_`/`/`).
`strength` влияет на энергию клетки и вероятность деления/пробуждения.

## Metrics

Метрики рассчитываются наблюдателем (`morph_mind`).

```text
struct Metrics {
    cells: usize,           // количество живых клеток
    sleeping_pct: f32,      // доля спящих клеток (0.0..1.0)
    avg_metabolism: f32,    // средняя метаболическая активность
    avg_latency_ms: f32,    // среднее время ответа
}
```

На основе метрик формируются подсказки (`Hint`), которые управляют циклом жизни.

## Symmetry Loop

Петля симметрии (v0.8) отслеживает баланс импульсов и публикует событие `harmony`:

```json
{"ev":"harmony","meta":{"strength":0.51,"latency":110.0,"entropy":0.72,"status":"drift","mirror":{"k":"mirror","p":"cpu/load","s":-0.24,"t":128442}}}
```

Поле `mirror` присутствует, если сгенерирован корректирующий сигнал. В CLI доступны:

* опция `--mirror-interval <ms>` — период обновления (по умолчанию `2000` мс);
* команда `:harmony` — вывод текущих метрик и статуса (`OK`/`DRIFT`/`OVERLOAD`).
