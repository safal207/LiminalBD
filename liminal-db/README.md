# LiminalDB v0.2 — «Границы и язык»

Минимальное живое ядро LiminalDB без внешних зависимостей. Проект состоит из нескольких крейтов:

- `liminal-core` — ядро эволюции клеток и цикл жизни.
- `liminal-sensor` — хостовые сенсоры/импульсы.
- `liminal-cli` — интерактивный CLI и CBOR-пайп.
- `liminal-bridge-abi` — универсальный мост (C ABI, WASM и CBOR-протокол).

## Установка

1. Установите [Rust](https://www.rust-lang.org/tools/install) (Rustup) версии 1.79 или новее.
2. Клонируйте репозиторий и перейдите в каталог `liminal-db/`.

```bash
cd liminal-db
```

## Проверка сборки

Для сборки и тестов используйте команды:

```bash
cargo build --workspace
cargo test -p liminal-bridge-abi
cargo run -p liminal-cli -- --pipe-cbor
```

Последняя команда запускает CLI в режиме CBOR-пайпа. После старта можно вводить hex-строки импульсов, каждая строка — отдельный CBOR-пакет. Ответы печатаются в stdout как hex-представление событий/метрик.

## Запуск CLI (человекочитаемый режим)

Стандартный CLI запускается как и раньше:

```bash
cargo run -p liminal-cli
```

После старта раз в секунду будут печататься метрики и подсказки (`HINTS`).

### Примеры команд

В отдельном терминале или в том же процессе введите команды:

```text
a cpu/load 0.9
q color/red 0.7
w memory/seed 0.5
```

* `q` — запрос (`Query`)
* `w` — запись (`Write`)
* `a` — воздействие (`Affect`)

Паттерны индексируются по простым токенам; клетки реагируют на импульсы, иногда делятся и засыпают.

Остановить приложение можно сочетанием `Ctrl+C`.
